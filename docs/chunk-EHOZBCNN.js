import{a as it,b as S,f as F,g as pt,h as ct,j as gt}from"./chunk-5J6OPLYL.js";import{a as ft,b as ht,c as Ct,d as vt}from"./chunk-S2YMBQW3.js";import{$ as C,$a as et,$b as fe,Ab as V,B as Se,Bb as at,C as Me,Cb as G,Da as Ue,Db as p,Dc as ge,Ec as ut,Fb as z,G as r,Ga as He,Gb as K,H as u,Ha as E,Ia as ke,Ib as Q,Jb as U,Kb as nt,La as We,Lb as H,Mb as st,N as Ve,Na as $e,Nb as W,O as k,Oa as Je,Ob as $,P as pe,Pa as j,Pb as rt,Q as m,Qa as Ze,Qb as lt,R as Te,Ra as Xe,Rb as ue,Sa as q,T as Le,Ta as Fe,Tb as mt,U as s,Ub as dt,V as l,W as g,X as ee,Y as te,Ya as w,Za as Ye,_ as x,_a as M,_b as y,a as D,aa as b,b as R,ba as Ne,ca as De,cb as ae,da as Pe,ea as Re,fa as ce,ga as oe,ha as ie,i as Ie,ia as Be,ja as c,k as B,ka as h,kb as tt,la as Ae,ma as je,n as P,na as qe,nb as O,nc as xe,o as A,oa as Oe,ob as ot,pa as Ge,qa as ze,qc as J,ra as Ke,rc as he,sa as Qe,sc as T,t as v,tc as Z,u as _,uc as X,y as I}from"./chunk-2KVP733G.js";function St(n,i){if(n&1){let e=x();s(0,"div",2)(1,"p"),c(2),l(),s(3,"div",3)(4,"p-button",4),C("onClick",function(){v(e);let o=b();return _(o.controlaVisibilidade())}),l(),s(5,"p-button",5),C("onClick",function(){v(e);let o=b();return _(o.excluir())}),l()()()}if(n&2){let e=b();r(2),Ae("Deseja realmente excluir ",e.nomePessoa,"?")}}var Y=class n{constructor(i){this.pessoasService=i}excluirPessoa=new I;visible=!1;idPessoa;nomePessoa;exibeConfirmacaoExclusao(i,e){this.idPessoa=i,this.nomePessoa=e,this.controlaVisibilidade()}controlaVisibilidade(){this.visible=!this.visible}excluir(){this.excluirPessoa.emit(this.idPessoa),this.controlaVisibilidade()}static \u0275fac=function(e){return new(e||n)(u(F))};static \u0275cmp=P({type:n,selectors:[["app-modal-excluir-pessoa"]],outputs:{excluirPessoa:"excluirPessoa"},standalone:!0,features:[Ke],decls:2,vars:3,consts:[[3,"visibleChange","modal","visible","draggable"],["pTemplate","headless"],[1,"modal-confirmacao"],[1,"modal-confirmacao_buttons"],["severity","secondary","label","N\xE3o",1,"confirmacao-button",3,"onClick"],["label","Sim",1,"confirmacao-button",3,"onClick"]],template:function(e,t){e&1&&(s(0,"p-dialog",0),Ge("visibleChange",function(a){return Oe(t.visible,a)||(t.visible=a),a}),k(1,St,6,1,"ng-template",1),l()),e&2&&(m("modal",!0),qe("visible",t.visible),m("draggable",!1))},dependencies:[q,Z,he,O,ct,pt,gt,fe,y],styles:[".modal-confirmacao[_ngcontent-%COMP%]{background-color:#fff;padding:1rem}.modal-confirmacao_buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border-radius:6px}.confirmacao-button[_ngcontent-%COMP%]{margin-top:1rem}"]})};var Vt=["modalExcluirPessoa"],Tt=["*"],Lt=()=>({"min-width":"50rem"});function Nt(n,i){n&1&&(s(0,"div"),c(1," Pessoas "),l())}function Dt(n,i){n&1&&(s(0,"tr")(1,"th"),c(2,"Nome"),l(),s(3,"th"),c(4,"CPF"),l(),s(5,"th"),c(6,"E-mail"),l(),s(7,"th"),c(8,"Escola"),l(),s(9,"th"),c(10,"Endere\xE7o"),l(),g(11,"th"),l())}function Rt(n,i){if(n&1){let e=x();s(0,"tr")(1,"td"),c(2),l(),s(3,"td"),c(4),l(),s(5,"td"),c(6),l(),s(7,"td"),c(8),l(),s(9,"td"),c(10),l(),s(11,"td")(12,"p-button",9),C("onClick",function(){let o=v(e).$implicit,a=b(3);return _(a.editarPessoa(o))}),l(),s(13,"p-button",10),C("onClick",function(){let o=v(e).$implicit,a=b(3);return _(a.confirmaExclusao(o))}),l()()()}if(n&2){let e=i.$implicit;r(2),h(e.nome),r(2),h(e.cpf),r(2),h(e.contato==null?null:e.contato.email),r(2),h(e.escola==null?null:e.escola.nome),r(2),h(e.endereco==null?null:e.endereco.logradouro),r(2),m("rounded",!0)("text",!0)("plain",!0),r(),m("text",!0)("rounded",!0)("plain",!0)}}function Bt(n,i){if(n&1&&(s(0,"p-table",5),k(1,Nt,2,0,"ng-template",6)(2,Dt,12,0,"ng-template",7)(3,Rt,14,11,"ng-template",8),l()),n&2){let e=b(2);m("value",e.pessoas)("tableStyle",Qe(2,Lt))}}function At(n,i){n&1&&De(0,0,["*ngIf","possuiPessoas(); else semPessoasTemplate"],Bt,4,3)}function jt(n,i){n&1&&(c(0,", "),s(1,"p"),c(2,"Nenhuma pessoa cadastrada at\xE9 o momento."),l())}var ve=class n{constructor(i,e,t){this.pessoasService=i;this.router=e;this.route=t;this.getPessoas()}modalExcluirPessoa;pessoas;possuiPessoas(){return!!this.pessoas&&this.pessoas.length>0}getPessoas(){this.pessoas=this.pessoasService.getPessoas()}editarPessoa(i){this.router.navigate([i.id],{relativeTo:this.route})}confirmaExclusao(i){this.modalExcluirPessoa.exibeConfirmacaoExclusao(i.id,i.nome)}excluirPessoa(i){this.pessoasService.excluirPessoa(i),this.getPessoas()}static \u0275fac=function(e){return new(e||n)(u(F),u(M),u(w))};static \u0275cmp=P({type:n,selectors:[["app-listagem-pessoas"]],viewQuery:function(e,t){if(e&1&&ce(Vt,5),e&2){let o;oe(o=ie())&&(t.modalExcluirPessoa=o.first)}},ngContentSelectors:Tt,decls:7,vars:2,consts:[["semPessoasTemplate",""],["modalExcluirPessoa",""],["routerLink","/pessoas/cadastro",1,"p-button","font-bold","adicionar-pessoa_button"],[4,"ngIf","ngIfElse"],[3,"excluirPessoa"],[3,"value","tableStyle"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["icon","pi pi-pencil",1,"mr-2",3,"onClick","rounded","text","plain"],["icon","pi pi-trash",3,"onClick","text","rounded","plain"]],template:function(e,t){if(e&1){let o=x();Ne(),s(0,"a",2),c(1,` Adicionar
`),l(),k(2,At,2,0,"ng-content",3)(3,jt,3,0,"ng-template",null,0,Ue),s(5,"app-modal-excluir-pessoa",4,1),C("excluirPessoa",function(d){return v(o),_(t.excluirPessoa(d))}),l()}if(e&2){let o=Be(4);r(2),m("ngIf",t.possuiPessoas())("ngIfElse",o)}},dependencies:[j,et,y,O,ft,Y],styles:[".adicionar-pessoa_button[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem;text-decoration:none}"]})};var re=class n{constructor(i,e){this.route=i;this.pessoasService=e;this.checkRouteId()}etapas=[{label:"Dados cadastrais",routerLink:"dados-cadastrais"},{label:"Dados de contato",routerLink:"dados-contato"},{label:"Dados de endere\xE7o",routerLink:"dados-endereco"}];checkRouteId(){this.route.paramMap.subscribe(i=>{i.get("id")&&this.pessoasService.carregaPessoa(i.get("id"))})}static \u0275fac=function(e){return new(e||n)(u(w),u(F))};static \u0275cmp=P({type:n,selectors:[["app-cadastro-pessoa"]],decls:3,vars:2,consts:[[1,"cadastro-pessoa"],[3,"model","readonly"]],template:function(e,t){e&1&&(s(0,"div",0),g(1,"p-steps",1)(2,"router-outlet"),l()),e&2&&(r(),m("model",t.etapas)("readonly",!1))},dependencies:[Ye,Ct],styles:[".cadastro-pessoa[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:1rem}"]})};var Pt=R(D({},X),{masks:{cpf:"999.999.999-99",cnpj:"99.999.999/9999-99"},lengths:{cnpj:18,cpf:14},labels:{nome:"Nome",nomeSocial:"Nome social",cpf:"CPF",cnpj:"CNPJ",escola:"Escola"},placeholders:{nome:"Digite o nome",nomeSocial:"Digite o nome social",cpf:"999.999.999-99",cnpj:"99.999.999/9999-99",escola:"Selecione a escola"}});var qt=["input"];function Ot(n,i){if(n&1){let e=x();s(0,"TimesIcon",5),C("click",function(){v(e);let o=b(2);return _(o.clear())}),l()}n&2&&(m("styleClass","p-inputmask-clear-icon"),pe("data-pc-section","clearIcon"))}function Gt(n,i){}function zt(n,i){n&1&&k(0,Gt,0,0,"ng-template")}function Kt(n,i){if(n&1){let e=x();s(0,"span",6),C("click",function(){v(e);let o=b(2);return _(o.clear())}),k(1,zt,1,0,null,7),l()}if(n&2){let e=b(2);pe("data-pc-section","clearIcon"),r(),m("ngTemplateOutlet",e.clearIconTemplate)}}function Qt(n,i){if(n&1&&(ee(0),k(1,Ot,1,2,"TimesIcon",3)(2,Kt,2,2,"span",4),te()),n&2){let e=b();r(),m("ngIf",!e.clearIconTemplate),r(),m("ngIf",e.clearIconTemplate)}}var Ut={provide:at,useExisting:Ie(()=>N),multi:!0},N=(()=>{class n{document;platformId;el;cd;config;type="text";slotChar="_";autoClear=!0;showClear=!1;style;inputId;styleClass;placeholder;size;maxlength;tabindex;title;variant="outlined";ariaLabel;ariaLabelledBy;ariaRequired;disabled;readonly;unmask;name;required;characterPattern="[A-Za-z]";autofocus;set autoFocus(e){this.autofocus=e,console.warn("autoFocus is deprecated. Use autofocus property instead.")}autocomplete;keepBuffer=!1;get mask(){return this._mask}set mask(e){this._mask=e,this.initMask(),this.writeValue(""),this.onModelChange(this.value)}onComplete=new I;onFocus=new I;onBlur=new I;onInput=new I;onKeydown=new I;onClear=new I;inputViewChild;templates;clearIconTemplate;value;_mask;onModelChange=()=>{};onModelTouched=()=>{};input;filled;defs;tests;partialPosition;firstNonMaskPos;lastRequiredNonMaskPos;len;oldVal;buffer;defaultBuffer;focusText;caretTimeoutId;androidChrome=!0;focused;_variant="outlined";get inputClass(){return{"p-inputmask":!0}}constructor(e,t,o,a,d){this.document=e,this.platformId=t,this.el=o,this.cd=a,this.config=d}ngOnInit(){if(Fe(this.platformId)){let e=navigator.userAgent;this.androidChrome=/chrome/i.test(e)&&/android/i.test(e)}this.initMask()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"clearicon":this.clearIconTemplate=e.template;break}})}initMask(){this.tests=[],this.partialPosition=this.mask.length,this.len=this.mask.length,this.firstNonMaskPos=null,this.defs={9:"[0-9]",a:this.characterPattern,"*":`${this.characterPattern}|[0-9]`};let e=this.mask.split("");for(let t=0;t<e.length;t++){let o=e[t];o=="?"?(this.len--,this.partialPosition=t):this.defs[o]?(this.tests.push(new RegExp(this.defs[o])),this.firstNonMaskPos===null&&(this.firstNonMaskPos=this.tests.length-1),t<this.partialPosition&&(this.lastRequiredNonMaskPos=this.tests.length-1)):this.tests.push(null)}this.buffer=[];for(let t=0;t<e.length;t++){let o=e[t];o!="?"&&(this.defs[o]?this.buffer.push(this.getPlaceholder(t)):this.buffer.push(o))}this.defaultBuffer=this.buffer.join("")}writeValue(e){this.value=e,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.value==null||this.value==null?this.inputViewChild.nativeElement.value="":this.inputViewChild.nativeElement.value=this.value,this.checkVal(),this.focusText=this.inputViewChild.nativeElement.value,this.updateFilledState())}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}caret(e,t){let o,a,d;if(!(!this.inputViewChild?.nativeElement.offsetParent||this.inputViewChild.nativeElement!==this.inputViewChild.nativeElement.ownerDocument.activeElement))if(typeof e=="number")a=e,d=typeof t=="number"?t:a,this.inputViewChild.nativeElement.setSelectionRange?this.inputViewChild.nativeElement.setSelectionRange(a,d):this.inputViewChild.nativeElement.createTextRange&&(o=this.inputViewChild.nativeElement.createTextRange(),o.collapse(!0),o.moveEnd("character",d),o.moveStart("character",a),o.select());else return this.inputViewChild.nativeElement.setSelectionRange?(a=this.inputViewChild.nativeElement.selectionStart,d=this.inputViewChild.nativeElement.selectionEnd):this.document&&this.document.selection.createRange&&(o=this.document.createRange(),a=0-o.duplicate().moveStart("character",-1e5),d=a+o.text.length),{begin:a,end:d}}isCompleted(){let e;for(let t=this.firstNonMaskPos;t<=this.lastRequiredNonMaskPos;t++)if(this.tests[t]&&this.buffer[t]===this.getPlaceholder(t))return!1;return!0}getPlaceholder(e){return e<this.slotChar.length?this.slotChar.charAt(e):this.slotChar.charAt(0)}seekNext(e){for(;++e<this.len&&!this.tests[e];);return e}seekPrev(e){for(;--e>=0&&!this.tests[e];);return e}shiftL(e,t){let o,a;if(!(e<0)){for(o=e,a=this.seekNext(t);o<this.len;o++)if(this.tests[o]){if(a<this.len&&this.tests[o].test(this.buffer[a]))this.buffer[o]=this.buffer[a],this.buffer[a]=this.getPlaceholder(a);else break;a=this.seekNext(a)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,e))}}shiftR(e){let t,o,a,d;for(t=e,o=this.getPlaceholder(e);t<this.len;t++)if(this.tests[t])if(a=this.seekNext(t),d=this.buffer[t],this.buffer[t]=o,a<this.len&&this.tests[a].test(d))o=d;else break}handleAndroidInput(e){var t=this.inputViewChild?.nativeElement.value,o=this.caret();if(this.oldVal&&this.oldVal.length&&this.oldVal.length>t.length){for(this.checkVal(!0);o.begin>0&&!this.tests[o.begin-1];)o.begin--;if(o.begin===0)for(;o.begin<this.firstNonMaskPos&&!this.tests[o.begin];)o.begin++;setTimeout(()=>{this.caret(o.begin,o.begin),this.updateModel(e),this.isCompleted()&&this.onComplete.emit()},0)}else{for(this.checkVal(!0);o.begin<this.len&&!this.tests[o.begin];)o.begin++;setTimeout(()=>{this.caret(o.begin,o.begin),this.updateModel(e),this.isCompleted()&&this.onComplete.emit()},0)}}onInputBlur(e){if(this.focused=!1,this.onModelTouched(),this.keepBuffer||this.checkVal(),this.updateFilledState(),this.onBlur.emit(e),this.inputViewChild?.nativeElement.value!=this.focusText||this.inputViewChild?.nativeElement.value!=this.value){this.updateModel(e);let t=this.document.createEvent("HTMLEvents");t.initEvent("change",!0,!1),this.inputViewChild?.nativeElement.dispatchEvent(t)}}onInputKeydown(e){if(this.readonly)return;let t=e.which||e.keyCode,o,a,d,f;Fe(this.platformId)&&(f=/iphone/i.test(ue.getUserAgent())),this.oldVal=this.inputViewChild?.nativeElement.value,this.onKeydown.emit(e),t===8||t===46||f&&t===127?(o=this.caret(),a=o.begin,d=o.end,d-a===0&&(a=t!==46?this.seekPrev(a):d=this.seekNext(a-1),d=t===46?this.seekNext(d):d),this.clearBuffer(a,d),this.keepBuffer?this.shiftL(a,d-2):this.shiftL(a,d-1),this.updateModel(e),this.onInput.emit(e),e.preventDefault()):t===13?(this.onInputBlur(e),this.updateModel(e)):t===27&&(this.inputViewChild.nativeElement.value=this.focusText,this.caret(0,this.checkVal()),this.updateModel(e),e.preventDefault())}onKeyPress(e){if(!this.readonly){var t=e.which||e.keyCode,o=this.caret(),a,d,f,ye;e.ctrlKey||e.altKey||e.metaKey||t<32||t>34&&t<41||(t&&t!==13&&(o.end-o.begin!==0&&(this.clearBuffer(o.begin,o.end),this.shiftL(o.begin,o.end-1)),a=this.seekNext(o.begin-1),a<this.len&&(d=String.fromCharCode(t),this.tests[a].test(d)&&(this.shiftR(a),this.buffer[a]=d,this.writeBuffer(),f=this.seekNext(a),ue.isClient()&&/android/i.test(ue.getUserAgent())?setTimeout(()=>{this.caret(f)},0):this.caret(f),o.begin<=this.lastRequiredNonMaskPos&&(ye=this.isCompleted()),this.onInput.emit(e))),e.preventDefault()),this.updateModel(e),this.updateFilledState(),ye&&this.onComplete.emit())}}clearBuffer(e,t){if(!this.keepBuffer){let o;for(o=e;o<t&&o<this.len;o++)this.tests[o]&&(this.buffer[o]=this.getPlaceholder(o))}}writeBuffer(){this.inputViewChild.nativeElement.value=this.buffer.join("")}checkVal(e){let t=this.inputViewChild?.nativeElement.value,o=-1,a,d,f;for(a=0,f=0;a<this.len;a++)if(this.tests[a]){for(this.buffer[a]=this.getPlaceholder(a);f++<t.length;)if(d=t.charAt(f-1),this.tests[a].test(d)){this.keepBuffer||(this.buffer[a]=d),o=a;break}if(f>t.length){this.clearBuffer(a+1,this.len);break}}else this.buffer[a]===t.charAt(f)&&f++,a<this.partialPosition&&(o=a);return e?this.writeBuffer():o+1<this.partialPosition?this.autoClear||this.buffer.join("")===this.defaultBuffer?(this.inputViewChild?.nativeElement.value&&(this.inputViewChild.nativeElement.value=""),this.clearBuffer(0,this.len)):this.writeBuffer():(this.writeBuffer(),this.inputViewChild.nativeElement.value=this.inputViewChild?.nativeElement.value.substring(0,o+1)),this.partialPosition?a:this.firstNonMaskPos}onInputFocus(e){if(this.readonly)return;this.focused=!0,clearTimeout(this.caretTimeoutId);let t;this.focusText=this.inputViewChild?.nativeElement.value,t=this.keepBuffer?this.inputViewChild?.nativeElement.value.length:this.checkVal(),this.caretTimeoutId=setTimeout(()=>{this.inputViewChild?.nativeElement===this.inputViewChild?.nativeElement.ownerDocument.activeElement&&(this.writeBuffer(),t==this.mask?.replace("?","").length?this.caret(0,t):this.caret(t))},10),this.onFocus.emit(e)}onInputChange(e){this.androidChrome?this.handleAndroidInput(e):this.handleInputChange(e),this.onInput.emit(e)}handleInputChange(e){this.readonly||this.disabled||setTimeout(()=>{var t=this.checkVal(!0);this.caret(t),this.updateModel(e),this.isCompleted()&&this.onComplete.emit()},0)}getUnmaskedValue(){let e=[];for(let t=0;t<this.buffer.length;t++){let o=this.buffer[t];this.tests[t]&&o!=this.getPlaceholder(t)&&e.push(o)}return e.join("")}updateModel(e){let t=this.unmask?this.getUnmaskedValue():e.target.value;(t!==null||t!==void 0)&&(this.value=t,this.onModelChange(this.value))}updateFilledState(){this.filled=this.inputViewChild?.nativeElement&&this.inputViewChild.nativeElement.value!=""}focus(){this.inputViewChild?.nativeElement.focus()}clear(){this.inputViewChild.nativeElement.value="",this.value=null,this.onModelChange(this.value),this.onClear.emit()}static \u0275fac=function(t){return new(t||n)(u(We),u(Me),u(Se),u(He),u(tt))};static \u0275cmp=P({type:n,selectors:[["p-inputMask"]],contentQueries:function(t,o,a){if(t&1&&Re(a,O,4),t&2){let d;oe(d=ie())&&(o.templates=d)}},viewQuery:function(t,o){if(t&1&&ce(qt,7),t&2){let a;oe(a=ie())&&(o.inputViewChild=a.first)}},hostAttrs:[1,"p-element"],hostVars:6,hostBindings:function(t,o){t&2&&Te("p-inputwrapper-filled",o.filled)("p-inputwrapper-focus",o.focused)("p-inputmask-clearable",o.showClear&&!o.disabled)},inputs:{type:"type",slotChar:"slotChar",autoClear:[2,"autoClear","autoClear",E],showClear:[2,"showClear","showClear",E],style:"style",inputId:"inputId",styleClass:"styleClass",placeholder:"placeholder",size:[2,"size","size",ke],maxlength:[2,"maxlength","maxlength",ke],tabindex:"tabindex",title:"title",variant:"variant",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",ariaRequired:[2,"ariaRequired","ariaRequired",E],disabled:[2,"disabled","disabled",E],readonly:[2,"readonly","readonly",E],unmask:[2,"unmask","unmask",E],name:"name",required:[2,"required","required",E],characterPattern:"characterPattern",autofocus:[2,"autofocus","autofocus",E],autoFocus:[2,"autoFocus","autoFocus",E],autocomplete:"autocomplete",keepBuffer:[2,"keepBuffer","keepBuffer",E],mask:"mask"},outputs:{onComplete:"onComplete",onFocus:"onFocus",onBlur:"onBlur",onInput:"onInput",onKeydown:"onKeydown",onClear:"onClear"},features:[ze([Ut]),Ve],decls:3,vars:24,consts:[["input",""],["pInputText","","pAutoFocus","",3,"focus","blur","keydown","keypress","input","paste","ngClass","ngStyle","disabled","readonly","variant","autofocus"],[4,"ngIf"],[3,"styleClass","click",4,"ngIf"],["class","p-inputmask-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-inputmask-clear-icon",3,"click"],[4,"ngTemplateOutlet"]],template:function(t,o){if(t&1){let a=x();s(0,"input",1,0),C("focus",function(f){return v(a),_(o.onInputFocus(f))})("blur",function(f){return v(a),_(o.onInputBlur(f))})("keydown",function(f){return v(a),_(o.onInputKeydown(f))})("keypress",function(f){return v(a),_(o.onKeyPress(f))})("input",function(f){return v(a),_(o.onInputChange(f))})("paste",function(f){return v(a),_(o.handleInputChange(f))}),l(),k(2,Qt,3,2,"ng-container",2)}t&2&&(Le(o.styleClass),m("ngClass",o.inputClass)("ngStyle",o.style)("disabled",o.disabled)("readonly",o.readonly)("variant",o.variant)("autofocus",o.autofocus),pe("id",o.inputId)("type",o.type)("name",o.name)("placeholder",o.placeholder)("title",o.title)("size",o.size)("autocomplete",o.autocomplete)("maxlength",o.maxlength)("tabindex",o.tabindex)("aria-label",o.ariaLabel)("aria-labelledBy",o.ariaLabelledBy)("aria-required",o.ariaRequired)("required",o.required)("data-pc-name","inputmask")("data-pc-section","root"),r(2),m("ngIf",o.value!=null&&o.filled&&o.showClear&&!o.disabled))},dependencies:()=>[$e,j,Xe,Ze,T,mt,xe],styles:[`@layer primeng{.p-inputmask-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputmask-clearable{position:relative}}
`],encapsulation:2,changeDetection:0})}return n})(),kt=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=A({type:n});static \u0275inj=B({imports:[q,Z,dt,xe,ot]})}return n})();var le=class n{constructor(i,e,t,o){this.formBuilder=i;this.router=e;this.route=t;this.pessoasService=o;this.createForm()}pessoaForm;escolas=it;dadosCadastraisFormConfig=Pt;buscaPessoaSalva(){if(this.pessoasService.getPessoa()){let i=new S;i.map(this.pessoasService.getPessoa()),this.atualizaFormulario(i)}}createForm(){this.pessoaForm=this.formBuilder.group({nome:["",p.compose([p.required,p.maxLength(this.dadosCadastraisFormConfig.maxLengths.padrao)])],nomeSocial:["",p.maxLength(this.dadosCadastraisFormConfig.maxLengths.padrao)],cpf:["",p.compose([p.required,p.maxLength(this.dadosCadastraisFormConfig.lengths.cpf),p.minLength(this.dadosCadastraisFormConfig.lengths.cpf)])],cnpj:["",p.compose([p.required,p.maxLength(this.dadosCadastraisFormConfig.lengths.cnpj),p.minLength(this.dadosCadastraisFormConfig.lengths.cnpj)])],escola:["",p.required]}),this.buscaPessoaSalva()}atualizaFormulario(i){Object.keys(this.pessoaForm.controls).forEach(e=>{if(i[e])switch(e){case"escola":this.pessoaForm.get(e).setValue(i[e].id);break;default:this.pessoaForm.get(e).setValue(i[e]);break}})}desabilitaAvancar(){return this.pessoaForm.invalid}avancar(){let i=new S;i.map(this.pessoaForm.getRawValue()),this.pessoasService.salvaPessoa(i),this.router.navigate(["..","dados-contato"],{relativeTo:this.route})}static \u0275fac=function(e){return new(e||n)(u($),u(M),u(w),u(F))};static \u0275cmp=P({type:n,selectors:[["app-dados-cadastrais-pessoa"]],decls:25,vars:21,consts:[[1,"form",3,"formGroup"],[1,"form-row"],[1,"p-fluid",2,"width","100%"],["pInputText","","id","nome","formControlName","nome",3,"placeholder","minlength","maxlength"],["for","nome"],["pInputText","","id","nomeSocial","formControlName","nomeSocial",3,"placeholder","minlength","maxlength"],["for","nomeSocial"],[1,"form-row","form-row--margin"],["id","cpf","formControlName","cpf",3,"mask","maxlength","placeholder"],["for","cpf"],["id","cnpj","formControlName","cnpj",3,"mask","maxlength","placeholder"],["for","cnpj"],["formControlName","escola","optionLabel","nome","optionValue","id","id","escola",3,"options","placeholder"],["for","escola"],[1,"form_buttons"],["label","Pr\xF3ximo","icon","pi pi-arrow-right","iconPos","right",1,"form_buttons_avancar",3,"onClick","disabled"]],template:function(e,t){e&1&&(s(0,"form",0)(1,"div",1)(2,"p-floatLabel",2),g(3,"input",3),s(4,"label",4),c(5),l()(),s(6,"p-floatLabel",2),g(7,"input",5),s(8,"label",6),c(9),l()()(),s(10,"div",7)(11,"p-floatLabel",2),g(12,"p-inputMask",8),s(13,"label",9),c(14),l()(),s(15,"p-floatLabel",2),g(16,"p-inputMask",10),s(17,"label",11),c(18),l()(),s(19,"p-floatLabel",2),g(20,"p-dropdown",12),s(21,"label",13),c(22),l()()(),s(23,"div",14)(24,"p-button",15),C("onClick",function(){return t.avancar()}),l()()()),e&2&&(m("formGroup",t.pessoaForm),r(3),m("placeholder",t.dadosCadastraisFormConfig.placeholders.nome)("minlength",t.dadosCadastraisFormConfig.minLengths.curto)("maxlength",t.dadosCadastraisFormConfig.maxLengths.padrao),r(2),h(t.dadosCadastraisFormConfig.labels.nome),r(2),m("placeholder",t.dadosCadastraisFormConfig.placeholders.nomeSocial)("minlength",t.dadosCadastraisFormConfig.minLengths.padrao)("maxlength",t.dadosCadastraisFormConfig.maxLengths.padrao),r(2),h(t.dadosCadastraisFormConfig.labels.nomeSocial),r(3),m("mask",t.dadosCadastraisFormConfig.masks.cpf)("maxlength",t.dadosCadastraisFormConfig.lengths.cpf)("placeholder",t.dadosCadastraisFormConfig.placeholders.cpf),r(2),h(t.dadosCadastraisFormConfig.labels.cpf),r(2),m("mask",t.dadosCadastraisFormConfig.masks.cnpj)("maxlength",t.dadosCadastraisFormConfig.lengths.cnpj)("placeholder",t.dadosCadastraisFormConfig.placeholders.cnpj),r(2),h(t.dadosCadastraisFormConfig.labels.cnpj),r(2),m("options",t.escolas)("placeholder",t.dadosCadastraisFormConfig.placeholders.escola),r(2),h(t.dadosCadastraisFormConfig.labels.escola),r(2),m("disabled",t.desabilitaAvancar()))},dependencies:[Q,G,z,K,st,W,U,H,T,y,J,ge,N]})};var Et=R(D({},X),{masks:{telefone:"(99) 9999-9999"},lengths:{telefone:14},labels:{telefone:"Telefone",email:"E-mail"},placeholders:{telefone:"(99) 9999-9999",email:"email@exemplo.com"}});function Wt(n,i){if(n&1){let e=x();s(0,"p-button",14),C("onClick",function(){v(e);let o=b().index,a=b();return _(a.removeTelefone(o))}),l()}n&2&&m("text",!0)("rounded",!0)("plain",!0)}function $t(n,i){if(n&1&&(ee(0),s(1,"div",10)(2,"p-floatLabel",2),g(3,"p-inputMask",11),s(4,"label",12),c(5),l()(),k(6,Wt,1,3,"p-button",13),l(),te()),n&2){let e=i.$implicit,t=i.index,o=b();r(),m("formGroup",e),r(2),Pe("id","telefone",t+1,""),m("mask",o.dadosContatoFormConfig.masks.telefone)("maxlength",o.dadosContatoFormConfig.lengths.telefone)("placeholder",o.dadosContatoFormConfig.placeholders.telefone),r(),Pe("for","telefone",t+1,""),r(),je("",o.dadosContatoFormConfig.labels.telefone," ",t+1,""),r(),m("ngIf",o.exibeBotaoRemoverTelefone())}}var me=class n{constructor(i,e,t,o){this.formBuilder=i;this.router=e;this.route=t;this.pessoasService=o;this.createForm()}contatoForm;dadosContatoFormConfig=Et;createForm(){this.contatoForm=this.formBuilder.group({email:["",p.compose([p.required,p.email,p.maxLength(this.dadosContatoFormConfig.maxLengths.curto)])],telefones:this.formBuilder.array([])}),this.adicionaTelefone(),this.buscaPessoaSalva()}buscaPessoaSalva(){if(this.pessoasService.getPessoa()){let i=new S;i.map(this.pessoasService.getPessoa()),this.atualizaFormulario(i)}}atualizaFormulario(i){if(!(!i||!i.contato)&&(i.contato.email&&this.contatoForm.get("email").setValue(i.contato.email),i.contato.telefones&&i.contato.telefones.length>0))for(let e=0;e<i.contato.telefones.length;e++)e==0?this.telefones.at(0).get("telefone").setValue(i.contato.telefones[0]):this.adicionaTelefone(i.contato.telefones[e])}get telefones(){return this.contatoForm.get("telefones")}adicionaTelefone(i){this.telefones&&this.telefones.push(this.formBuilder.group({telefone:[i||"",p.compose([p.required,p.maxLength(this.dadosContatoFormConfig.lengths.telefone)])]}))}removeTelefone(i){this.telefones&&this.telefones.length>0&&this.telefones.removeAt(i)}exibeBotaoRemoverTelefone(){return this.telefones.length>1}desabilitaAvancar(){return this.contatoForm.invalid}getDadosForm(){let i=this.contatoForm.getRawValue();return i.telefones=i.telefones.map(e=>e.telefone),i}avancar(){let i=new S;i.mapContato(this.getDadosForm()),this.pessoasService.salvaPessoa(i),this.router.navigate(["..","dados-endereco"],{relativeTo:this.route})}static \u0275fac=function(e){return new(e||n)(u($),u(M),u(w),u(F))};static \u0275cmp=P({type:n,selectors:[["app-dados-contato-pessoa"]],decls:11,vars:9,consts:[[1,"form","form--width",3,"formGroup"],[1,"form-row"],[1,"p-fluid",2,"width","100%"],["pInputText","","id","email","formControlName","email",3,"placeholder","maxlength"],["for","email"],["formArrayName","telefones"],[4,"ngFor","ngForOf"],["icon","pi pi-plus","label","Adicionar outro telefone",1,"mr-2",3,"onClick","rounded","text","plain"],[1,"form_buttons"],["label","Pr\xF3ximo","icon","pi pi-arrow-right","iconPos","right",1,"form_buttons_avancar",3,"onClick","disabled"],[1,"form-row","form-row--margin","form-row--direction",3,"formGroup"],["formControlName","telefone",3,"mask","id","maxlength","placeholder"],[3,"for"],["icon","pi pi-times",3,"text","rounded","plain","onClick",4,"ngIf"],["icon","pi pi-times",3,"onClick","text","rounded","plain"]],template:function(e,t){e&1&&(s(0,"form",0)(1,"div",1)(2,"p-floatLabel",2),g(3,"input",3),s(4,"label",4),c(5),l()()(),ee(6,5),k(7,$t,7,11,"ng-container",6),te(),s(8,"p-button",7),C("onClick",function(){return t.adicionaTelefone()}),l(),s(9,"div",8)(10,"p-button",9),C("onClick",function(){return t.avancar()}),l()()()),e&2&&(m("formGroup",t.contatoForm),r(3),m("placeholder",t.dadosContatoFormConfig.placeholders.email)("maxlength",t.dadosContatoFormConfig.maxLengths.curto),r(2),h(t.dadosContatoFormConfig.labels.email),r(2),m("ngForOf",t.telefones.controls),r(),m("rounded",!0)("text",!0)("plain",!0),r(2),m("disabled",t.desabilitaAvancar()))},dependencies:[Je,j,Q,G,z,K,W,U,H,nt,T,y,J,N]})};var wt=["Brasil","Canad\xE1","Colombia","Paraguai","Uruguai"];var yt=R(D({},X),{masks:{cep:"999999-99"},lengths:{cep:9},labels:{logradouro:"Logradouro",cidade:"Cidade",cep:"CEP",estado:"Estado",pais:"Pa\xEDs"},placeholders:{logradouro:"Digite o logradouro",cidade:"Digite a cidade",cep:"999999-99",estado:"Digite o estado",pais:"Selecione o pa\xEDs"}});var de=class n{constructor(i,e,t,o){this.formBuilder=i;this.router=e;this.route=t;this.pessoasService=o;this.createForm()}enderecoForm;paises=wt;dadosEnderecoFormConfig=yt;createForm(){this.enderecoForm=this.formBuilder.group({logradouro:["",p.compose([p.required,p.maxLength(this.dadosEnderecoFormConfig.maxLengths.padrao)])],cidade:["",p.compose([p.required,p.maxLength(this.dadosEnderecoFormConfig.maxLengths.curto)])],cep:["",p.compose([p.required,p.maxLength(this.dadosEnderecoFormConfig.lengths.cep)])],estado:["",p.compose([p.required,p.maxLength(this.dadosEnderecoFormConfig.maxLengths.curto)])],pais:["",p.required]}),this.buscaPessoaSalva()}buscaPessoaSalva(){if(this.pessoasService.getPessoa()){let i=new S;i.map(this.pessoasService.getPessoa()),this.atualizaFormulario(i)}}atualizaFormulario(i){!i||!i.endereco||Object.keys(this.enderecoForm.controls).forEach(e=>{i.endereco[e]&&this.enderecoForm.get(e).setValue(i.endereco[e])})}desabilitaAvancar(){return this.enderecoForm.invalid}avancar(){let i=new S;i.mapEndereco(this.enderecoForm.getRawValue()),this.pessoasService.salvaPessoaState(i),this.router.navigate(["../.."],{relativeTo:this.route})}static \u0275fac=function(e){return new(e||n)(u($),u(M),u(w),u(F))};static \u0275cmp=P({type:n,selectors:[["app-dados-endereco-pessoa"]],decls:25,vars:18,consts:[[1,"form",3,"formGroup"],[1,"form-row"],[1,"p-fluid",2,"width","100%"],["pInputText","","id","logradouro","formControlName","logradouro",3,"placeholder","maxlength"],["for","logradouro"],["pInputText","","id","cidade","formControlName","cidade",3,"placeholder","maxlength"],["for","cidade"],[1,"form-row","form-row--margin"],["id","cep","formControlName","cep",3,"mask","maxlength","placeholder"],["for","cep"],["pInputText","","id","estado","formControlName","estado",3,"placeholder","maxlength"],["for","estado"],["formControlName","pais","id","pais",3,"options","placeholder"],["for","pais"],[1,"form_buttons"],["label","Salvar",1,"form_buttons_avancar",3,"onClick","disabled"]],template:function(e,t){e&1&&(s(0,"form",0)(1,"div",1)(2,"p-floatLabel",2),g(3,"input",3),s(4,"label",4),c(5),l()(),s(6,"p-floatLabel",2),g(7,"input",5),s(8,"label",6),c(9),l()()(),s(10,"div",7)(11,"p-floatLabel",2),g(12,"p-inputMask",8),s(13,"label",9),c(14),l()(),s(15,"p-floatLabel",2),g(16,"input",10),s(17,"label",11),c(18),l()(),s(19,"p-floatLabel",2),g(20,"p-dropdown",12),s(21,"label",13),c(22),l()()(),s(23,"div",14)(24,"p-button",15),C("onClick",function(){return t.avancar()}),l()()()),e&2&&(m("formGroup",t.enderecoForm),r(3),m("placeholder",t.dadosEnderecoFormConfig.placeholders.logradouro)("maxlength",t.dadosEnderecoFormConfig.maxLengths.padrao),r(2),h(t.dadosEnderecoFormConfig.labels.logradouro),r(2),m("placeholder",t.dadosEnderecoFormConfig.placeholders.cidade)("maxlength",t.dadosEnderecoFormConfig.maxLengths.curto),r(2),h(t.dadosEnderecoFormConfig.labels.cidade),r(3),m("mask",t.dadosEnderecoFormConfig.masks.cep)("maxlength",t.dadosEnderecoFormConfig.lengths.cep)("placeholder",t.dadosEnderecoFormConfig.placeholders.cep),r(2),h(t.dadosEnderecoFormConfig.labels.cep),r(2),m("placeholder",t.dadosEnderecoFormConfig.placeholders.estado)("maxlength",t.dadosEnderecoFormConfig.maxLengths.curto),r(2),h(t.dadosEnderecoFormConfig.labels.estado),r(2),m("options",t.paises)("placeholder",t.dadosEnderecoFormConfig.placeholders.pais),r(2),h(t.dadosEnderecoFormConfig.labels.pais),r(2),m("disabled",t.desabilitaAvancar()))},dependencies:[Q,G,z,K,W,U,H,T,y,J,ge,N]})};var Jt=[{path:"",component:ve,canActivate:[V]},{path:"cadastro",component:re,children:[{path:"",pathMatch:"full",redirectTo:"dados-cadastrais"},{path:"dados-cadastrais",component:le,canActivate:[V]},{path:"dados-contato",component:me,canActivate:[V]},{path:"dados-endereco",component:de,canActivate:[V]}]},{path:":id",component:re,children:[{path:"",pathMatch:"full",redirectTo:"dados-cadastrais"},{path:"dados-cadastrais",component:le,canActivate:[V]},{path:"dados-contato",component:me,canActivate:[V]},{path:"dados-endereco",component:de,canActivate:[V]}]}],be=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=A({type:n});static \u0275inj=B({imports:[ae.forChild(Jt),ae]})};var It=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=A({type:n});static \u0275inj=B({imports:[q,be,rt,lt,Z,fe,ae,he,ht,ut,kt,vt,Y]})};export{It as PessoasModule};
